# PUFF Platform - Production Environment Configuration
# ⚠️ CRITICAL: This file contains sensitive information
# DO NOT commit this to version control
# DO NOT share this file
# Update all values with your production secrets

# Environment Mode
NODE_ENV=production
PORT=3001

# Frontend Configuration
FRONTEND_URL=https://your-domain.com
BASE_URL=https://api.your-domain.com

# Database Configuration
# CRITICAL: Use managed PostgreSQL service (Heroku, AWS RDS, DigitalOcean, etc.)
USE_MOCK_DB=false
DB_HOST=your-postgres-host.rds.amazonaws.com
DB_PORT=5432
DB_NAME=puff_db_production
DB_USER=postgres_prod_user
DB_PASSWORD=generate-strong-password-min-32-chars
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_SSL=true

# JWT Security - GENERATE NEW SECRETS
# Command: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=generate-new-random-64-char-string-here-do-not-reuse
JWT_REFRESH_SECRET=generate-new-random-64-char-string-here-do-not-reuse
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# Email Service (SendGrid Recommended)
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=PUFF

# Image/File Storage (AWS S3 or Cloudinary)
USE_S3_STORAGE=true
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=puff-production-images
AWS_REGION=us-east-1

# OR Cloudinary (Alternative to S3)
CLOUDINARY_CLOUD_NAME=your-cloudinary-name
CLOUDINARY_API_KEY=your-cloudinary-key
CLOUDINARY_API_SECRET=your-cloudinary-secret

# Error Tracking (Sentry)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Performance Monitoring
DATADOG_API_KEY=your-datadog-api-key
APM_ENABLED=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# Password Security
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# Session Security
SESSION_TIMEOUT=1800000
SECURE_COOKIES=true
SAME_SITE_COOKIES=strict

# Admin Credentials (Change immediately on first login)
ADMIN_EMAIL=admin@your-domain.com
ADMIN_PASSWORD=generate-random-password-min-16-chars

# Feature Flags
ENABLE_EMAIL_VERIFICATION=true
ENABLE_WITHDRAWAL_NOTIFICATIONS=true
ENABLE_PASSWORD_RESET=true
ENABLE_REFERRAL_SYSTEM=true

# Logging
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_TO_FILE=true
LOG_FILE_PATH=/var/log/puff/app.log

# Redis (for caching and sessions)
REDIS_HOST=your-redis-host.redis.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_TLS=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# HTTPS/SSL
SSL_KEY_PATH=/etc/ssl/private/your-domain.key
SSL_CERT_PATH=/etc/ssl/certs/your-domain.crt

# GDPR/Privacy
ENABLE_DATA_EXPORT=true
ENABLE_ACCOUNT_DELETION=true

# Payment Processing (if needed)
STRIPE_PUBLIC_KEY=pk_live_your_stripe_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret
